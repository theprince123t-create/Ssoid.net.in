<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Live Overlay</title>
  <style>
    body { margin:0; background:transparent; font-family:sans-serif; color:white; }
    .overlay { background:#0077cc; padding:10px; position:fixed; bottom:0; width:100%; }
    .row { display:flex; justify-content:space-between; }
  </style>
</head>
<body>
  <div class="overlay">
    <div id="batter1">Batter 1 0(0)</div>
    <div id="batter2">Batter 2 0(0)</div>
    <div id="score">0-0 (0.0)</div>
    <div id="rr">RR: 0.00 | CRR: 0.00</div>
    <div id="bowler">Bowler 0-0 (0)</div>
  </div>

  <script>
    async function loadScore() {
      try {
        const res = await fetch("/api/score");
        const data = await res.json();

        document.getElementById("batter1").innerText = data.batter1;
        document.getElementById("batter2").innerText = data.batter2;
        document.getElementById("score").innerText = data.score;
        document.getElementById("rr").innerText = `RR: ${data.rr} | CRR: ${data.crr}`;
        document.getElementById("bowler").innerText = data.bowler;
      } catch (e) {
        console.error("Failed to load score", e);
      }
    }

    setInterval(loadScore, 5000);
    loadScore();
  </script>
</body>
</html>
